---
title: "Index page"
author: "Kevin Rue"
date: "`r Sys.Date()`"
output: html_document
---

```{r libraries, include=FALSE}
library(tidyverse)
```

```{r snakemake, include=FALSE}
if (interactive()) {
  report_paths <- c(
    "reports/packages_r.html",
    file.path("reports/fishpond", list.files("../reports/fishpond/"))
  )
} else {
  report_paths <- snakemake@input
}
report_paths <- str_remove(report_paths, "reports/")
```

## Software environment

```{r, echo=FALSE, results='asis'}
packages_r <- grep("packages_r.html", report_paths, value = TRUE)
cat(sprintf("- [R packages](%s)", packages_r), sep = "\n")
```

## fishpond

The [fishpond](https://www.bioconductor.org/packages/release/bioc/html/fishpond.html) Bioconductor package was used to import the quantification files produced by [simpleaf](https://simpleaf.readthedocs.io/en/latest/).

#### All samples

```{r, echo=FALSE, results='asis'}
fishpond_global <- grep("fishpond.html", report_paths, value = TRUE)
cat(sprintf("- [All samples](%s)", fishpond_global), sep = "\n")
```

#### Individual samples

```{r, echo=FALSE, results='asis'}
fishpond_samples <- grep("fishpond/", report_paths, value = TRUE)
names(fishpond_samples) <- fs::path_ext_remove(basename(fishpond_samples))
cat(sprintf("- [%s](%s)", names(fishpond_samples), fishpond_samples), sep = "\n")
```
